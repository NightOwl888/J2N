<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>netcoreapp3.0;netstandard2.1;netstandard2.0;netstandard1.3;net45</TargetFrameworks>

    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <WarningsAsErrors>NU1605;1591</WarningsAsErrors>
  </PropertyGroup>

  <PropertyGroup Label="NuGet Package Settings">
    <AssemblyTitle>J2N</AssemblyTitle>
    <Description>J2N is a library that helps bridge the gap between .NET and Java. It provides components to assist with porting Java code to .NET, such as collections, adapters, and extensions. It contains some features from Java that also make it generally useful in any .NET application.</Description>
    <!--<PackageTags>$(PackageTags)</PackageTags>-->
  </PropertyGroup>

  <ItemGroup>
    <Compile Include="..\..\build\CommonAssemblyKeys.cs" Link="Properties\CommonAssemblyKeys.cs" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'netcoreapp3.0' ">
    <PackageReference Include="Microsoft.CSharp" Version="$(MicrosoftCSharpPackageReferenceVersion)" />
    <PackageReference Include="System.Text.Encoding.CodePages" Version="$(SystemTextEncodingCodePagesPackageReferenceVersion)" />
  </ItemGroup>
  
  <ItemGroup Condition=" '$(TargetFramework)' == 'netstandard2.1' ">
    <PackageReference Include="Microsoft.CSharp" Version="$(MicrosoftCSharpPackageReferenceVersion)" />
    <PackageReference Include="System.Text.Encoding.CodePages" Version="$(SystemTextEncodingCodePagesPackageReferenceVersion)" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'netstandard2.0' ">
    <PackageReference Include="Microsoft.CSharp" Version="$(MicrosoftCSharpPackageReferenceVersion)" />
    <PackageReference Include="System.Text.Encoding.CodePages" Version="$(SystemTextEncodingCodePagesPackageReferenceVersion)" />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'netstandard1.3' ">
    <PackageReference Include="Microsoft.CSharp" Version="$(MicrosoftCSharpPackageReferenceVersion)" />
    <PackageReference Include="System.IO.MemoryMappedFiles" Version="$(SystemIOMemoryMappedFilesPackageReferenceVersion)" />
    <PackageReference Include="System.Reflection.TypeExtensions" Version="$(SystemReflectionTypeExtensionsPackageReferenceVersion)" />
    <PackageReference Include="System.Resources.ResourceManager" Version="$(SystemResourcesResourceManagerPackageReferenceVersion)" />
    <PackageReference Include="System.Runtime" Version="$(SystemRuntimePackageReferenceVersion)" />
    <PackageReference Include="System.Text.Encoding.CodePages" Version="$(SystemTextEncodingCodePagesPackageReferenceVersion)" />
    <PackageReference Include="System.Threading.Thread" Version="$(SystemThreadingThreadPackageReferenceVersion)" />
  </ItemGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netcoreapp3.0' ">
    <DefineConstants>$(DefineConstants);NETSTANDARD;FEATURE_SERIALIZABLE;FEATURE_THREADINTERRUPT;FEATURE_THREADABORT;FEATURE_THREADYIELD;FEATURE_THREADPRIORITY;FEATURE_STRINGINTERN;FEATURE_CONTRACTBLOCKS;FEATURE_CHARARRAYPOINTERS;FEATURE_ARRAYEMPTY;FEATURE_METHODIMPLOPTIONS_INTERNALCALL;FEATURE_READONLYSPAN;FEATURE_STRINGBUILDER_APPENDJOIN;FEATURE_SPAN;FEATURE_READONLYMEMORY;FEATURE_STRINGBUILDER_GETCHUNKS;FEATURE_NUMERICBITOPERATIONS</DefineConstants>
    <DebugType>portable</DebugType>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netstandard2.1' ">
    <DefineConstants>$(DefineConstants);NETSTANDARD;FEATURE_SERIALIZABLE;FEATURE_THREADINTERRUPT;FEATURE_THREADABORT;FEATURE_THREADYIELD;FEATURE_THREADPRIORITY;FEATURE_STRINGINTERN;FEATURE_CONTRACTBLOCKS;FEATURE_CHARARRAYPOINTERS;FEATURE_ARRAYEMPTY;FEATURE_METHODIMPLOPTIONS_INTERNALCALL;FEATURE_READONLYSPAN;FEATURE_STRINGBUILDER_APPENDJOIN;FEATURE_SPAN;FEATURE_READONLYMEMORY</DefineConstants>
    <DebugType>portable</DebugType>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netstandard2.0' ">
    <DefineConstants>$(DefineConstants);NETSTANDARD;FEATURE_SERIALIZABLE;FEATURE_THREADINTERRUPT;FEATURE_THREADABORT;FEATURE_THREADYIELD;FEATURE_THREADPRIORITY;FEATURE_STRINGINTERN;FEATURE_CONTRACTBLOCKS;FEATURE_CHARARRAYPOINTERS;FEATURE_ARRAYEMPTY;FEATURE_METHODIMPLOPTIONS_INTERNALCALL</DefineConstants>
    <DebugType>portable</DebugType>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'netstandard1.3' ">
    <DefineConstants>$(DefineConstants);NETSTANDARD;FEATURE_CHARARRAYPOINTERS;FEATURE_ARRAYEMPTY</DefineConstants>
    <DebugType>portable</DebugType>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(TargetFramework)' == 'net45' ">
    <DefineConstants>$(DefineConstants);FEATURE_SERIALIZABLE;FEATURE_SERIALIZABLE_EXCEPTIONS;FEATURE_SERIALIZABLE_RANDOM;FEATURE_SERIALIZABLE_STRINGS;FEATURE_THREADINTERRUPT;FEATURE_THREADABORT;FEATURE_THREADYIELD;FEATURE_THREADPRIORITY;FEATURE_STRINGINTERN;FEATURE_CONTRACTBLOCKS;FEATURE_METHODIMPLOPTIONS_INTERNALCALL</DefineConstants>
    <DebugType>full</DebugType>
  </PropertyGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'net45' ">
    <Reference Include="Microsoft.CSharp" />
  </ItemGroup>

  <PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug|AnyCPU'">
    <DebugSymbols>true</DebugSymbols>
  </PropertyGroup>

</Project>
